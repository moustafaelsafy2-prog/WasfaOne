<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WasfaOne — الصفحة الرئيسية</title>

  <!-- Fonts & Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700;800&family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Styles (هوية المشروع) -->
  <link rel="stylesheet" href="/public/assets/styles.css" />

  <meta name="color-scheme" content="light dark" />
  <style>
    :root { --primary:#ef4444; --acc1:#10b981; --acc2:#3b82f6; }
    body { font-family:"Cairo", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Inter", sans-serif; }
    .btn { transition:transform .15s ease, box-shadow .15s ease; }
    .btn:hover { transform: scale(1.02); box-shadow: 0 10px 24px rgba(0,0,0,.08); }
    .card { border:1px solid rgba(148,163,184,.3); border-radius:1rem; background:white; }
    .card:hover { transform: translateY(-2px); }
    .badge { display:inline-flex; align-items:center; justify-content:center; font-weight:700; font-size:.75rem; padding:.15rem .5rem; border-radius:.5rem; }
    .badge-primary { background:#fee2e2; color:#991b1b; }
    .badge-ghost { background:transparent; border:1px dashed rgba(148,163,184,.5); color:inherit; }
    @media (prefers-color-scheme: dark){
      .card{ background:#0f172a; border-color:#1f2a44; }
      body{ color:#e2e8f0; background:#0b1220; }
      .badge-primary{ background:#7f1d1d; color:#fecaca; }
    }
  </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100">

  <!-- Header -->
  <header class="border-b border-slate-200/70 dark:border-slate-800/70 sticky top-0 bg-white/70 dark:bg-slate-900/70 backdrop-blur z-10">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img id="logoImg" class="h-9 w-auto" alt="Logo" />
        <h1 id="siteTitle" class="font-extrabold text-lg">WasfaOne</h1>
      </div>
      <nav class="hidden md:flex items-center gap-6">
        <a href="#features" class="text-sm hover:opacity-80">المزايا</a>
        <a href="#plans" class="text-sm hover:opacity-80">الخطط</a>
        <a href="/public/login.html" class="text-sm hover:opacity-80">تسجيل الدخول</a>
      </nav>
      <div class="flex items-center gap-3">
        <a id="whatsappBtn" href="#" target="_blank" class="btn inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-green-600 text-white text-sm">
          <span>WhatsApp</span>
        </a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative">
    <div class="max-w-6xl mx-auto px-4 py-12 md:py-16 grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold leading-tight">
          وصفات دقيقة بالعربية، <span class="text-[color:var(--primary)]">بالجرام</span> وضمن أهدافك.
        </h2>
        <p class="mt-3 text-slate-600 dark:text-slate-300">
          صمّم وجبتك حسب السعرات والماكروز، مع التزام صارم بالأنظمة الغذائية والحساسيات—كل ذلك في ثوانٍ.
        </p>
        <div class="mt-5 flex flex-wrap gap-3">
          <a href="/public/signup.html" class="btn px-4 py-2 rounded-md bg-[color:var(--primary)] text-white font-bold">
            جرّب مجانًا 7 أيام
          </a>
          <a href="#plans" class="btn px-4 py-2 rounded-md bg-slate-100 dark:bg-slate-800">
            خطط وأسعار
          </a>
        </div>
        <p class="text-xs mt-3 opacity-70">جهاز واحد لكل حساب — حماية من الإساءة.</p>
      </div>
      <div class="relative">
        <div class="card p-6">
          <h3 class="text-lg font-bold mb-2">ما الذي يميّز WasfaOne؟</h3>
          <ul class="list-disc pr-5 space-y-1 text-sm">
            <li>التزام صارم بوحدات <b>الجرام</b> لكل المكوّنات.</li>
            <li>حساب سعرات وفق 4/4/9 بدقة مع تطابق الماكروز.</li>
            <li>أنظمة غذائية احترافية + حساسيّات + مكوّناتك المتاحة.</li>
            <li>وصفات عربية واضحة بخطوات قصيرة.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Features (مختصر) -->
  <section id="features" class="py-8 md:py-10">
    <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-3 gap-4">
      <div class="card p-5">
        <div class="badge badge-primary">دقة غذائية</div>
        <h4 class="mt-2 font-bold">سعرات وجرامات منضبطة</h4>
        <p class="text-sm opacity-80 mt-1">الطاقة محسوبة من الماكروز مباشرة، والتوليد يضمن الجرام فقط بلا “كوب/ملعقة”.</p>
      </div>
      <div class="card p-5">
        <div class="badge badge-primary">مرونة</div>
        <h4 class="mt-2 font-bold">أنظمة وحساسيات ومكوّناتك</h4>
        <p class="text-sm opacity-80 mt-1">اختر النظام، أضف حساسياتك، وحدد مكوّناتك المتاحة—نولّد وصفة مطابقة.</p>
      </div>
      <div class="card p-5">
        <div class="badge badge-primary">سهولة</div>
        <h4 class="mt-2 font-bold">العربية أولاً</h4>
        <p class="text-sm opacity-80 mt-1">كل شيء بالعربية الفصحى: المكوّنات، الخطوات، والتعليمات الدقيقة.</p>
      </div>
    </div>
  </section>

  <!-- Plans (مقارنة احترافية بكروت صف واحد) -->
  <section id="plans" class="py-10 md:py-14 border-t border-slate-200/70 dark:border-slate-800/70">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between gap-4 mb-6">
        <div>
          <h3 class="text-2xl md:text-3xl font-extrabold">خطط الاشتراك</h3>
          <p class="opacity-70 text-sm mt-1">اختر الخطة المناسبة—يمكنك الترقية في أي وقت.</p>
        </div>
        <a href="/public/login.html" class="text-sm underline underline-offset-4">لديك حساب؟ سجّل الدخول</a>
      </div>

      <!-- صف واحد على الشاشات الواسعة -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-stretch">
        <!-- Trial -->
        <div class="card p-6 flex flex-col">
          <div class="flex items-center justify-between">
            <h4 class="text-xl font-bold">تجربة 7 أيام</h4>
            <span class="badge badge-ghost">للجدد</span>
          </div>
          <p class="mt-1 text-3xl font-extrabold"><span class="text-[color:var(--primary)]">مجانًا</span><span class="text-sm font-medium opacity-70"> / 7 أيام</span></p>
          <p class="text-sm opacity-75 mt-1">جميع الأنظمة متاحة للعرض • حد يومي معقول للتجربة</p>

          <ul class="mt-4 space-y-2 text-sm flex-1">
            <li>✅ توليد وصفات بالعربية وبدقة جرام</li>
            <li>✅ كل الأنظمة الغذائية والحساسيات</li>
            <li>✅ حساب سعرات 4/4/9 تلقائي</li>
            <li>⚠️ حد يومي للوصفات أثناء التجربة</li>
            <li>🔒 حساب مرتبط بجهاز واحد</li>
          </ul>

          <a href="/public/signup.html" class="btn mt-5 w-full px-4 py-2 rounded-md bg-[color:var(--primary)] text-white font-bold text-center">
            جرّب مجانًا الآن
          </a>
        </div>

        <!-- Monthly -->
        <div class="card p-6 flex flex-col ring-2 ring-[color:var(--primary)]/20">
          <div class="flex items-center justify-between">
            <h4 class="text-xl font-bold">شهري</h4>
            <span class="badge badge-primary">الأكثر شيوعًا</span>
          </div>
          <p class="mt-1 text-3xl font-extrabold"><span class="text-[color:var(--primary)]">29</span> درهم<span class="text-sm font-medium opacity-70"> / شهر</span></p>
          <p class="text-sm opacity-75 mt-1">وصفات غير محدودة يوميًا • دعم عبر واتساب</p>

          <ul class="mt-4 space-y-2 text-sm flex-1">
            <li>✅ غير محدود يوميًا</li>
            <li>✅ خطط أسبوعية جاهزة</li>
            <li>✅ كل الأنظمة + حساسيّات</li>
            <li>✅ دعم واتساب أولوية</li>
            <li>🔒 حساب مرتبط بجهاز واحد</li>
          </ul>

          <a id="monthlyBtn" href="#" target="_blank" class="btn mt-5 w-full px-4 py-2 rounded-md bg-[color:var(--primary)] text-white font-bold text-center">
            اشترك شهريًا الآن
          </a>
        </div>

        <!-- Yearly -->
        <div class="card p-6 flex flex-col">
          <div class="flex items-center justify-between">
            <h4 class="text-xl font-bold">سنوي</h4>
            <span class="badge badge-ghost">الأوفر</span>
          </div>
          <p class="mt-1 text-3xl font-extrabold"><span class="text-[color:var(--primary)]">25</span> درهم<span class="text-sm font-medium opacity-70"> / شهر</span></p>
          <p class="text-xs opacity-75 mt-1">يتم احتسابها سنويًا (فوترة سنوية)</p>
          <ul class="mt-4 space-y-2 text-sm flex-1">
            <li>✅ غير محدود يوميًا</li>
            <li>✅ خطط أسبوعية + شهرية + قائمة تسوق</li>
            <li>✅ كل الأنظمة + حساسيّات</li>
            <li>✅ دعم واتساب أولوية</li>
            <li>🔒 حساب مرتبط بجهاز واحد</li>
          </ul>

          <a id="yearlyBtn" href="#" target="_blank" class="btn mt-5 w-full px-4 py-2 rounded-md bg-slate-100 dark:bg-slate-800 text-center">
            اشترك سنويًا الآن
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mt-10 border-t border-slate-200 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm flex items-center justify-between">
      <p id="footerLine">للاشتراك أو التجديد: 00971502061209 — واتساب/اتصال</p>
      <a id="footerWhatsapp" href="#" target="_blank" class="btn px-3 py-1.5 rounded-md bg-green-600 text-white">WhatsApp</a>
    </div>
  </footer>

  <script>
    // تحميل الإعدادات للهوية وروابط واتساب
    (async function init(){
      try{
        const r = await fetch("/data/settings.json?ts="+Date.now(), { cache:"no-store" });
        if(!r.ok) return;
        const s = await r.json();

        // Header + Footer
        document.getElementById("logoImg").src = s?.branding?.logo_url || "";
        document.getElementById("logoImg").alt = s?.images_meta?.hero?.alt_ar || "شعار";
        document.getElementById("siteTitle").textContent = s?.branding?.site_name_ar || "وصفة ون";

        const wa = s?.contact?.whatsapp_link || "#";
        document.getElementById("whatsappBtn").href = wa;
        document.getElementById("footerWhatsapp").href = wa;

        // أزرار الاشتراك المدفوع توجه لواتساب
        document.getElementById("monthlyBtn").href = wa;
        document.getElementById("yearlyBtn").href = wa;
      }catch(e){ /* تجاهل */ }
    })();
  </script>
</body>
</html>
